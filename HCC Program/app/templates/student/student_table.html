{% extends "layout.html" %}
{% block body %}
        <div class="row">
        <div class="col-xs-12">
        <div class="box">
                <div class="box-header">
                  <h3 class="box-title">學生信息</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                  <table id="student_table" class="table table-bordered table-striped">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>學生ID</th>
                        <th>姓名</th>
                        <th>班級</th>
                        <th>語言水平</th>
                        <th>詳細信息</th>
                      </tr>
                    </thead>
                    <tbody>
                        {% for student_i in student %}
                          <tr>
                          <td> {{ loop.index }} </td>
                          <td> {{ student_i.student_id }} </td>
                          <td> {{ student_i.username }} </td>
                          <td> {{ student_i.student_class }} </td>
                          <td> {{ student_i.language_level }} </td>
                          <td><button id="detail" class="btn btn-success btn-xs del-btn" data-id="{{ student_i.username }}" value="{{ student_i.username }}">詳細信息</button></td>
                          </tr>
                        {% endfor %}
                    </tbody>
                    <tfoot>
                      <tr>
                        <th>ID</th>
                        <th>學生ID</th>
                        <th>姓名</th>
                        <th>班級</th>
                        <th>語言水平</th>
                        <th>詳細信息</th>
                      </tr>
                    </tfoot>
                  </table>
                </div><!-- /.box-body -->
              </div><!-- /.box -->
        <div class="col-xs-12">
      </div>  
{% endblock %}
{% block js %}
<script>
// $("#detail").click(function(){
//   var username = $(this).attr("data-id")
//   var content = "student_data?username="+username
//   window.open(content)
// })
$(document).on('click','.del-btn',function(){
      var username = $(this).attr("data-id")
      var content = "student_data?username="+username
      window.open(content)
      
    })
$(function() {
  $('#student_table').DataTable({
    "paging": true,
    "lengthChange": false,
    "searching": false,
    "ordering": true,
    "info": true,
    "autoWidth": false
  });
});
</script>
{% endblock %}


